---
import LessonLayout from '../../../layouts/LessonLayout.astro';
import HintBox from '../../../components/astro/HintBox.astro';

// ë¹ˆì¹¸ ì±„ìš°ê¸° ì‹¤ìŠµ ì½”ë“œ - ê°œë… ì„¤ëª… í¬í•¨
const editorCode1 = `-- ========================================
-- ğŸ”¥ Kill Part: ë‹¿ìœ¼ë©´ ì£½ëŠ” íŒŒíŠ¸
-- ========================================
-- ğŸ’¡ Humanoidë€?
--    í”Œë ˆì´ì–´ ìºë¦­í„°ì˜ ìƒëª…ë ¥ì„ ê´€ë¦¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ì˜ˆìš”
--    Health(ì²´ë ¥), WalkSpeed(ì†ë„) ë“±ì„ ê°€ì§€ê³  ìˆì–´ìš”
-- ========================================

local part = script.Parent

part.Touched:Connect(function(hit)
    -- ğŸ’¡ FindFirstChild("ì´ë¦„")
    --    = "ì´ë¦„"ì´ë¼ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ì•„ìš”
    --    = ì—†ìœ¼ë©´ nil(ì—†ìŒ)ì„ ë°˜í™˜í•´ìš”
    local humanoid = hit.Parent:FindFirstChild("___")

    -- humanoidê°€ ìˆìœ¼ë©´ = í”Œë ˆì´ì–´ê°€ ë‹¿ì€ ê±°ì˜ˆìš”!
    if humanoid then
        -- Health = 0 â†’ ìºë¦­í„° ì‚¬ë§
        humanoid.Health = 0
    end
end)`;

const hints1 = JSON.stringify([
    "ğŸ’¡ Humanoid = ìºë¦­í„°ì˜ ìƒëª…ë ¥ ê´€ë¦¬ì",
    "ğŸ’¡ FindFirstChildë¡œ Humanoidë¥¼ ì°¾ìœ¼ë©´ í”Œë ˆì´ì–´ì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”",
    "ì •ë‹µ: Humanoid"
]);

const editorCode2 = `-- ========================================
-- âš¡ ë°ë¯¸ì§€ íŒŒíŠ¸: ë‹¿ìœ¼ë©´ ì²´ë ¥ 10 ê°ì†Œ
-- ========================================
-- ğŸ’¡ Health = í˜„ì¬ ì²´ë ¥ (ê¸°ë³¸ê°’: 100)
-- ğŸ’¡ ì²´ë ¥ ê°ì†Œ: Health - ìˆ«ì
-- ğŸ’¡ ì²´ë ¥ íšŒë³µ: Health + ìˆ«ì
-- ========================================

local part = script.Parent

part.Touched:Connect(function(hit)
    local humanoid = hit.Parent:FindFirstChild("Humanoid")
    if humanoid then
        -- ğŸ’¡ í˜„ì¬ ì²´ë ¥ì—ì„œ 10ì„ ë¹¼ë ¤ë©´?
        -- humanoid.Health (í˜„ì¬) ___ 10 (ê°ì†ŒëŸ‰)
        humanoid.Health = humanoid.Health ___ 10
    end
end)`;

const hints2 = JSON.stringify([
    "ğŸ’¡ ì²´ë ¥ì„ 'ê°ì†Œ'ì‹œí‚¤ë ¤ë©´ ë¹¼ê¸°(-) ì—°ì‚°ì!",
    "ğŸ’¡ Health - 10 = ì²´ë ¥ì—ì„œ 10ì„ ë¹¼ìš”",
    "ì •ë‹µ: - (ë¹¼ê¸°)"
]);

const editorCode3 = `-- ========================================
-- ğŸ›¡ï¸ ì¡°ê±´ë¶€ ë°ë¯¸ì§€: ì²´ë ¥ì´ 50 ì´ìƒì¼ ë•Œë§Œ!
-- ========================================
-- ğŸ’¡ ë¹„êµ ì—°ì‚°ì ì •ë¦¬:
--    >= : í¬ê±°ë‚˜ ê°™ë‹¤ (ì´ìƒ)
--    <= : ì‘ê±°ë‚˜ ê°™ë‹¤ (ì´í•˜)
--    >  : í¬ë‹¤ (ì´ˆê³¼)
--    <  : ì‘ë‹¤ (ë¯¸ë§Œ)
-- ========================================

local part = script.Parent

part.Touched:Connect(function(hit)
    local humanoid = hit.Parent:FindFirstChild("Humanoid")

    -- ğŸ’¡ and = ê·¸ë¦¬ê³  (ë‘˜ ë‹¤ ì°¸ì´ì–´ì•¼ ì‹¤í–‰)
    -- ì²´ë ¥ì´ 50 'ì´ìƒ'ì¼ ë•Œë§Œ ë°ë¯¸ì§€
    if humanoid and humanoid.Health ___ 50 then
        humanoid.Health = humanoid.Health - 20
        print("ë°ë¯¸ì§€!")
    end
end)`;

const hints3 = JSON.stringify([
    "ğŸ’¡ 'ì´ìƒ'ì€ í¬ê±°ë‚˜ ê°™ë‹¤ = >=",
    "ğŸ’¡ >= 50 = 50ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë‹¤",
    "ì •ë‹µ: >="
]);

const quiz1Options = JSON.stringify(["humanoid.Health = 0", "humanoid:Kill()", "player:Destroy()", "character.Health = 0"]);
const quiz2Options = JSON.stringify(["and", "or", "&&", "+"]);
const quiz3Options = JSON.stringify(["Humanoid", "Character", "Player", "Health"]);
---

<LessonLayout title="ì¡°ê±´ë¬¸ í™œìš©" lessonNumber={4} totalSlides={10}>
    <!-- ìŠ¬ë¼ì´ë“œ 1: ì¸íŠ¸ë¡œ -->
    <section class="slide active">
        <div class="max-w-4xl mx-auto px-6 py-12 flex flex-col items-center justify-center min-h-[80vh]">
            <div class="text-center animate-in">
                <span class="badge badge-lua mb-6">4ì£¼ì°¨ B</span>
                <h1 class="title-display mb-4">
                    ì¡°ê±´ë¬¸<br>
                    <span class="text-neon-coral">í™œìš©í•˜ê¸°</span>
                </h1>
                <p class="text-xl text-ink-light max-w-lg mx-auto mb-8">
                    ì¡°ê±´ë¬¸ê³¼ ì´ë²¤íŠ¸ë¥¼ ì¡°í•©í•´ì„œ<br>
                    Kill Partì™€ ë°ë¯¸ì§€ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ìš”
                </p>
                <div class="flex flex-wrap gap-3 justify-center mb-8">
                    <span class="px-4 py-2 bg-neon-coral/20 rounded-full text-sm font-medium">ğŸ’€ Kill Part</span>
                    <span class="px-4 py-2 bg-neon-gold/20 rounded-full text-sm font-medium">ğŸ’” ì²´ë ¥ ê°ì†Œ</span>
                    <span class="px-4 py-2 bg-neon-mint/20 rounded-full text-sm font-medium">ğŸ’š ì²´ë ¥ íšŒë³µ</span>
                </div>
                <div class="info-box max-w-md mx-auto">
                    <span class="text-2xl">ğŸ¯</span>
                    <h3 class="font-bold text-lg mt-2 mb-2">ì˜¤ëŠ˜ì˜ ëª©í‘œ</h3>
                    <ul class="text-left text-sm space-y-1">
                        <li>âœ“ Kill Part (ì¦‰ì‚¬ íŒŒíŠ¸) ë§Œë“¤ê¸°</li>
                        <li>âœ“ ë°ë¯¸ì§€ íŒŒíŠ¸ (ì²´ë ¥ ê°ì†Œ) ë§Œë“¤ê¸°</li>
                        <li>âœ“ íë§ íŒŒíŠ¸ (ì²´ë ¥ íšŒë³µ) ë§Œë“¤ê¸°</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 2: Humanoidì™€ Health -->
    <section class="slide">
        <div class="max-w-4xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-lesson mb-4">í•µì‹¬ ê°œë…</span>
                <h2 class="title-section mb-6">ğŸ’– Humanoidì™€ Health</h2>
            </div>

            <div class="flex flex-col gap-6">
                <div class="animate-in">
                    <div class="lesson-card border-2 border-neon-coral/30">
                        <h3 class="font-bold text-lg mb-3 flex items-center gap-2">
                            <span class="material-symbols-outlined text-neon-coral">favorite</span>
                            ìºë¦­í„°ì˜ ìƒëª…ë ¥ ì‹œìŠ¤í…œ
                        </h3>

                        <div class="bg-ink-pale/30 rounded-xl p-4 font-mono text-sm mb-4">
                            <div class="text-ink-light mb-2">-- ìºë¦­í„° êµ¬ì¡° --</div>
                            <div class="ml-0">ğŸ‘¤ Character</div>
                            <div class="ml-4">â”œ ğŸ¦´ Head, Torso, LeftArm...</div>
                            <div class="ml-4">â”” â¤ï¸ <span class="text-neon-coral font-bold">Humanoid</span></div>
                            <div class="ml-8">â”œ Health = 100 (í˜„ì¬ ì²´ë ¥)</div>
                            <div class="ml-8">â”” MaxHealth = 100 (ìµœëŒ€ ì²´ë ¥)</div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="p-3 bg-neon-coral/10 rounded-lg">
                                <h4 class="font-bold text-sm mb-1">Health = 0</h4>
                                <p class="text-xs text-ink-light">ìºë¦­í„° ì‚¬ë§</p>
                            </div>
                            <div class="p-3 bg-neon-mint/10 rounded-lg">
                                <h4 class="font-bold text-sm mb-1">Health = MaxHealth</h4>
                                <p class="text-xs text-ink-light">ì²´ë ¥ ì™„ì „ íšŒë³µ</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="animate-in">
                    <HintBox type="info" title="Health ì†ì„±">
                        HealthëŠ” 0 ë¯¸ë§Œìœ¼ë¡œ ë‚´ë ¤ê°€ì§€ ì•Šê³ , MaxHealthë¥¼ ì´ˆê³¼í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                        ê¸°ë³¸ê°’ì€ ë‘˜ ë‹¤ 100ì´ì—ìš”!
                    </HintBox>
                </div>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 3: Kill Part ê¸°ë³¸ -->
    <section class="slide">
        <div class="max-w-4xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-roblox mb-4">ì‹¤ì „ ì½”ë“œ</span>
                <h2 class="title-section mb-6">ğŸ’€ Kill Part ë§Œë“¤ê¸°</h2>
            </div>

            <div class="flex flex-col gap-6">
                <div class="animate-in">
                    <div class="lesson-card">
                        <h3 class="font-bold text-lg mb-3">ì¦‰ì‚¬ íŒŒíŠ¸ ì½”ë“œ</h3>
                        <p class="text-ink-light mb-4">
                            ë‹¿ìœ¼ë©´ <strong>ì¦‰ì‹œ ì‚¬ë§</strong>í•˜ëŠ” íŒŒíŠ¸ì…ë‹ˆë‹¤. ì˜¤ë¹„ ê²Œì„ì˜ í•„ìˆ˜ ìš”ì†Œ!
                        </p>

                        <lua-code-block title="KillPart.lua" show-line-numbers>
local part = script.Parent

part.Touched:Connect(function(hit)
    -- 1. Humanoid ì°¾ê¸°
    local humanoid = hit.Parent:FindFirstChild("Humanoid")

    -- 2. Humanoidê°€ ìˆìœ¼ë©´ (= í”Œë ˆì´ì–´ë©´)
    if humanoid then
        -- 3. ì²´ë ¥ì„ 0ìœ¼ë¡œ = ì‚¬ë§
        humanoid.Health = 0
    end
end)
                        </lua-code-block>
                    </div>
                </div>

                <div class="animate-in">
                    <div class="lesson-card bg-gradient-to-br from-neon-coral/10 to-neon-gold/10">
                        <h3 class="font-bold text-lg mb-3">ğŸ“ ì½”ë“œ íë¦„</h3>
                        <ol class="space-y-2 text-sm">
                            <li class="flex items-start gap-2">
                                <span class="w-6 h-6 bg-neon-coral rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0">1</span>
                                <span>ë¬´ì–¸ê°€ê°€ íŒŒíŠ¸ì— ë‹¿ìŒ (Touched)</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="w-6 h-6 bg-neon-coral rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0">2</span>
                                <span>ë‹¿ì€ ê²ƒì˜ ë¶€ëª¨ì—ì„œ Humanoid ì°¾ê¸°</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="w-6 h-6 bg-neon-coral rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0">3</span>
                                <span>Humanoidê°€ ìˆìœ¼ë©´ (ì¡°ê±´ë¬¸!) ì²´ë ¥ 0ìœ¼ë¡œ</span>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 4: ë¹ˆì¹¸ ì±„ìš°ê¸° ì‹¤ìŠµ 1 -->
    <section class="slide slide-fullscreen">
        <lua-editor
            mission="ë¹ˆì¹¸ì„ ì±„ì›Œì„œ Kill Partë¥¼ ì™„ì„±í•˜ì„¸ìš” (í”Œë ˆì´ì–´ì˜ ìƒëª…ë ¥ ì˜¤ë¸Œì íŠ¸ ì´ë¦„)"
            initial-code={editorCode1}
            hints={hints1}
        ></lua-editor>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 5: ë°ë¯¸ì§€ íŒŒíŠ¸ -->
    <section class="slide">
        <div class="max-w-4xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-roblox mb-4">ì‹¤ì „ ì½”ë“œ</span>
                <h2 class="title-section mb-6">ğŸ’” ë°ë¯¸ì§€ íŒŒíŠ¸ ë§Œë“¤ê¸°</h2>
            </div>

            <div class="flex flex-col gap-6">
                <div class="animate-in">
                    <div class="lesson-card">
                        <h3 class="font-bold text-lg mb-3">ì²´ë ¥ ê°ì†Œ íŒŒíŠ¸</h3>
                        <p class="text-ink-light mb-4">
                            ë‹¿ìœ¼ë©´ ì²´ë ¥ì´ <strong>ì¼ì •ëŸ‰ ê°ì†Œ</strong>í•˜ëŠ” íŒŒíŠ¸ì…ë‹ˆë‹¤.
                        </p>

                        <lua-code-block title="DamagePart.lua" show-line-numbers>
local part = script.Parent
local damage = 25  -- ë°ë¯¸ì§€ëŸ‰

part.Touched:Connect(function(hit)
    local humanoid = hit.Parent:FindFirstChild("Humanoid")

    if humanoid then
        -- í˜„ì¬ ì²´ë ¥ì—ì„œ ë°ë¯¸ì§€ë§Œí¼ ë¹¼ê¸°
        humanoid.Health = humanoid.Health - damage
        print("ë°ë¯¸ì§€! ë‚¨ì€ ì²´ë ¥:", humanoid.Health)
    end
end)
                        </lua-code-block>
                    </div>
                </div>

                <div class="animate-in">
                    <HintBox type="warning" title="âš ï¸ ë¬´í•œ ë°ë¯¸ì§€ ë¬¸ì œ">
                        ìœ„ ì½”ë“œëŠ” íŒŒíŠ¸ì— ë‹¿ì•„ìˆëŠ” ë™ì•ˆ <strong>ê³„ì† ë°ë¯¸ì§€</strong>ê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤!
                        ë‹¤ìŒ ìŠ¬ë¼ì´ë“œì—ì„œ ì¿¨ë‹¤ìš´(ì¬ì‚¬ìš© ëŒ€ê¸°)ì„ ì¶”ê°€í•´ë³¼ê²Œìš”.
                    </HintBox>
                </div>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 6: ë¹ˆì¹¸ ì±„ìš°ê¸° ì‹¤ìŠµ 2 -->
    <section class="slide slide-fullscreen">
        <lua-editor
            mission="ë¹ˆì¹¸ì— ì•Œë§ì€ ì—°ì‚°ìë¥¼ ë„£ì–´ ì²´ë ¥ì„ 10 ê°ì†Œì‹œí‚¤ì„¸ìš”"
            initial-code={editorCode2}
            hints={hints2}
        ></lua-editor>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 7: ì¿¨ë‹¤ìš´ ì¶”ê°€ -->
    <section class="slide">
        <div class="max-w-4xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-lesson mb-4">ê³ ê¸‰</span>
                <h2 class="title-section mb-6">â±ï¸ ì¿¨ë‹¤ìš´(ì¬ì‚¬ìš© ëŒ€ê¸°) ì¶”ê°€</h2>
            </div>

            <div class="flex flex-col gap-6">
                <div class="animate-in">
                    <div class="lesson-card">
                        <h3 class="font-bold text-lg mb-3">debounce íŒ¨í„´</h3>
                        <p class="text-ink-light mb-4">
                            ë³€ìˆ˜ë¡œ ìƒíƒœë¥¼ ê¸°ì–µí•´ì„œ <strong>ì—°ì† ë°œë™ì„ ë°©ì§€</strong>í•©ë‹ˆë‹¤.
                        </p>

                        <lua-code-block title="DamagePart_Cooldown.lua" show-line-numbers>
local part = script.Parent
local damage = 25
local cooldown = 1  -- 1ì´ˆ ì¿¨ë‹¤ìš´
local canDamage = true  -- ë°ë¯¸ì§€ ê°€ëŠ¥ ìƒíƒœ

part.Touched:Connect(function(hit)
    local humanoid = hit.Parent:FindFirstChild("Humanoid")

    -- ì¡°ê±´: Humanoidê°€ ìˆê³  AND ë°ë¯¸ì§€ ê°€ëŠ¥ ìƒíƒœ
    if humanoid and canDamage then
        canDamage = false  -- ì ê¸ˆ

        humanoid.Health = humanoid.Health - damage

        task.wait(cooldown)  -- 1ì´ˆ ëŒ€ê¸°
        canDamage = true  -- ì ê¸ˆ í•´ì œ
    end
end)
                        </lua-code-block>
                    </div>
                </div>

                <div class="animate-in">
                    <HintBox type="tip" title="and ì—°ì‚°ì">
                        <code>if A and B then</code> = Aì™€ Bê°€ <strong>ë‘˜ ë‹¤ ì°¸</strong>ì¼ ë•Œë§Œ ì‹¤í–‰
                    </HintBox>
                </div>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 8: íë§ íŒŒíŠ¸ + ìŠ¤íŠœë””ì˜¤ ê°€ì´ë“œ -->
    <section class="slide">
        <div class="max-w-4xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-roblox mb-4">ğŸ® ìŠ¤íŠœë””ì˜¤ ê°€ì´ë“œ</span>
                <h2 class="title-section mb-6">ğŸ’š íë§ íŒŒíŠ¸ ë§Œë“¤ê¸°</h2>
            </div>

            <div class="flex flex-col gap-6">
                <div class="animate-in">
                    <div class="lesson-card border-2 border-neon-mint/30">
                        <h3 class="font-bold text-lg mb-4">ì²´ë ¥ íšŒë³µ íŒŒíŠ¸ ë§Œë“¤ê¸°</h3>

                        <div class="space-y-3 mb-4">
                            <div class="flex items-start gap-3">
                                <span class="w-6 h-6 bg-neon-mint text-white rounded flex items-center justify-center text-xs font-bold">1</span>
                                <p class="text-sm">Part ìƒì„± í›„ <strong>ì´ˆë¡ìƒ‰</strong>ìœ¼ë¡œ ë³€ê²½ (Lime green)</p>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="w-6 h-6 bg-neon-mint text-white rounded flex items-center justify-center text-xs font-bold">2</span>
                                <p class="text-sm">Partì— Script ì¶”ê°€</p>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="w-6 h-6 bg-neon-mint text-white rounded flex items-center justify-center text-xs font-bold">3</span>
                                <p class="text-sm">ì•„ë˜ ì½”ë“œ ì…ë ¥</p>
                            </div>
                        </div>

                        <lua-code-block title="HealPart.lua">
local part = script.Parent
local healAmount = 30
local canHeal = true

part.Touched:Connect(function(hit)
    local humanoid = hit.Parent:FindFirstChild("Humanoid")

    if humanoid and canHeal then
        canHeal = false

        -- ì²´ë ¥ íšŒë³µ (ë”í•˜ê¸°!)
        humanoid.Health = humanoid.Health + healAmount

        task.wait(2)
        canHeal = true
    end
end)
                        </lua-code-block>
                    </div>
                </div>

                <div class="animate-in">
                    <HintBox type="info" title="ì²´ë ¥ ìƒí•œ">
                        Healthê°€ MaxHealth(ê¸°ë³¸ 100)ë¥¼ ë„˜ìœ¼ë©´ ìë™ìœ¼ë¡œ 100ìœ¼ë¡œ ì¡°ì •ë©ë‹ˆë‹¤.
                    </HintBox>
                </div>

                <!-- ë³µì‚¬-ë¶™ì—¬ë„£ê¸° ì˜ˆì œë“¤ -->
                <div class="animate-in lesson-card border-2 border-neon-mint/30">
                    <h4 class="font-bold mb-3 flex items-center gap-2">
                        <span class="text-xl">ğŸ“‹</span>
                        ë³µì‚¬í•´ì„œ ë°”ë¡œ í…ŒìŠ¤íŠ¸! (ì¶”ê°€ ì˜ˆì œ)
                    </h4>
                    <p class="text-sm text-ink-light mb-3">
                        Partì— Scriptë¥¼ ë„£ê³ , ì•„ë˜ ì½”ë“œ ì¤‘ í•˜ë‚˜ë¥¼ ë³µì‚¬í•´ì„œ F5!
                    </p>

                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <div class="text-sm text-neon-coral font-bold mb-2">â±ï¸ ë°ë¯¸ì§€ íŒŒíŠ¸ (ì¿¨ë‹¤ìš´)</div>
                            <lua-code-block title="DamageCooldown.lua">
-- ========================================
-- âš¡ ë°ë¯¸ì§€ íŒŒíŠ¸ (ì¿¨ë‹¤ìš´ ìˆìŒ)
-- ========================================
-- ğŸ“¦ Part (Anchored âœ“, ì£¼í™©ìƒ‰) + Script
-- ğŸ’¡ ì¿¨ë‹¤ìš´ = ì¬ì‚¬ìš© ëŒ€ê¸°ì‹œê°„
--    ì—°ì†ìœ¼ë¡œ ë§ì§€ ì•Šê²Œ í•´ì¤˜ìš”!
-- ========================================
local part = script.Parent
local damage = 20       -- ë°ë¯¸ì§€ëŸ‰
local cooldown = 1      -- 1ì´ˆ ì¿¨ë‹¤ìš´
local canDamage = true  -- ë°ë¯¸ì§€ ê°€ëŠ¥ ìƒíƒœ

local function onTouched(otherPart)
    -- ğŸ’¡ return = í•¨ìˆ˜ ì¦‰ì‹œ ì¢…ë£Œ
    if canDamage == false then return end

    local humanoid = otherPart.Parent:FindFirstChild("Humanoid")
    if humanoid then
        humanoid.Health = humanoid.Health - damage
        canDamage = false     -- ì ê¸ˆ!
        task.wait(cooldown)   -- 1ì´ˆ ëŒ€ê¸°
        canDamage = true      -- ì ê¸ˆ í•´ì œ
    end
end

part.Touched:Connect(onTouched)
                            </lua-code-block>
                        </div>

                        <div>
                            <div class="text-sm text-neon-mint font-bold mb-2">ğŸ’š íë§ íŒŒíŠ¸</div>
                            <lua-code-block title="HealPart.lua">
-- ========================================
-- ğŸ’š íë§ íŒŒíŠ¸ (ì²´ë ¥ íšŒë³µ)
-- ========================================
-- ğŸ“¦ Part (Anchored âœ“, ì´ˆë¡ìƒ‰) + Script
-- ğŸ’¡ Health = í˜„ì¬ ì²´ë ¥
-- ğŸ’¡ MaxHealth = ìµœëŒ€ ì²´ë ¥ (ê¸°ë³¸ 100)
-- ========================================
local part = script.Parent
local healAmount = 30  -- íšŒë³µëŸ‰

local function onTouched(otherPart)
    local humanoid = otherPart.Parent:FindFirstChild("Humanoid")
    if humanoid then
        -- í˜„ì¬ ì²´ë ¥ì´ ìµœëŒ€ë³´ë‹¤ ì‘ìœ¼ë©´ = ë‹¤ì³¤ìœ¼ë©´
        if humanoid.Health &lt; humanoid.MaxHealth then
            humanoid.Health = humanoid.Health + healAmount
            print("ì²´ë ¥ íšŒë³µ!")
        end
    end
end

part.Touched:Connect(onTouched)
                            </lua-code-block>
                        </div>
                    </div>

                    <div>
                        <div class="text-sm text-neon-gold font-bold mb-2">ğŸ”˜ í† ê¸€ ìŠ¤ìœ„ì¹˜</div>
                        <lua-code-block title="ToggleSwitch.lua">
-- ========================================
-- ğŸ”˜ í† ê¸€ ìŠ¤ìœ„ì¹˜ (ON/OFF ì „í™˜)
-- ========================================
-- ğŸ“¦ Part (Anchored âœ“) + Script
-- ğŸ’¡ not = ë°˜ëŒ€ë¡œ (true â†” false)
-- ğŸ’¡ í† ê¸€ = ëˆ„ë¥¼ ë•Œë§ˆë‹¤ ìƒíƒœê°€ ë°”ë€œ
-- ========================================
local part = script.Parent
local isOn = false  -- ì‹œì‘ì€ OFF

local function onTouched(otherPart)
    local humanoid = otherPart.Parent:FindFirstChild("Humanoid")
    if humanoid then
        -- ğŸ’¡ not isOn = isOnì˜ ë°˜ëŒ€
        -- false â†’ true, true â†’ false
        isOn = not isOn

        if isOn then
            part.BrickColor = BrickColor.new("Lime green")
            print("ON!")
        else
            part.BrickColor = BrickColor.new("Bright red")
            print("OFF!")
        end
        task.wait(0.5)  -- ì—°ì† í„°ì¹˜ ë°©ì§€
    end
end

part.Touched:Connect(onTouched)
                        </lua-code-block>
                    </div>

                    <div class="grid md:grid-cols-2 gap-4 mt-4">
                        <div>
                            <div class="text-sm text-neon-sky font-bold mb-2">ğŸ“ ì²´í¬í¬ì¸íŠ¸</div>
                            <lua-code-block title="Checkpoint.lua">
-- ========================================
-- ğŸ“ ì²´í¬í¬ì¸íŠ¸ (ì €ì¥ ì§€ì )
-- ========================================
-- ğŸ“¦ Part (Anchored âœ“) + Script
-- ğŸ’¡ {} = ë¹ˆ í…Œì´ë¸” (ëª©ë¡)
-- ğŸ’¡ touched[ì´ë¦„] = ëˆ„ê°€ ë‹¿ì•˜ëŠ”ì§€ ê¸°ì–µ
-- ========================================
local part = script.Parent
local touched = {}  -- ë‹¿ì€ í”Œë ˆì´ì–´ ëª©ë¡

local function onTouched(otherPart)
    local humanoid = otherPart.Parent:FindFirstChild("Humanoid")
    -- ğŸ’¡ ìºë¦­í„°ì—ì„œ í”Œë ˆì´ì–´ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    local player = game.Players:GetPlayerFromCharacter(otherPart.Parent)

    if humanoid and player then
        -- ğŸ’¡ not touched[player.Name]
        --    = ì•„ì§ ì €ì¥ ì•ˆ í–ˆìœ¼ë©´
        if not touched[player.Name] then
            touched[player.Name] = true  -- ì €ì¥!
            part.BrickColor = BrickColor.new("Lime green")
            print(player.Name .. " ì²´í¬í¬ì¸íŠ¸ ì €ì¥!")
        end
    end
end

part.Touched:Connect(onTouched)
                            </lua-code-block>
                        </div>

                        <div>
                            <div class="text-sm text-neon-coral font-bold mb-2">ğŸ”¥ ì—°ì† ë°ë¯¸ì§€ (DoT)</div>
                            <lua-code-block title="DotDamage.lua">
local part = script.Parent
local damagePerTick = 5
local tickRate = 0.5
local playersInside = {}

part.Touched:Connect(function(hit)
    local hum = hit.Parent:FindFirstChild("Humanoid")
    local player = game.Players:GetPlayerFromCharacter(hit.Parent)
    if hum and player and not playersInside[player] then
        playersInside[player] = true
        while playersInside[player] and hum.Health > 0 do
            hum.Health = hum.Health - damagePerTick
            task.wait(tickRate)
        end
    end
end)

part.TouchEnded:Connect(function(hit)
    local player = game.Players:GetPlayerFromCharacter(hit.Parent)
    if player then
        playersInside[player] = nil
    end
end)
                            </lua-code-block>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-4 mt-4">
                        <div>
                            <div class="text-sm text-neon-mint font-bold mb-2">ğŸ’¨ ì í”„ íŒ¨ë“œ</div>
                            <lua-code-block title="JumpPad.lua">
-- ========================================
-- ğŸ’¨ ì í”„ íŒ¨ë“œ (ìœ„ë¡œ ë‚ ë ¤ë³´ë‚´ê¸°)
-- ========================================
-- ğŸ“¦ Part (Anchored âœ“, ì´ˆë¡ìƒ‰) + Script
-- ğŸ’¡ Vector3 = X, Y, Z ì„¸ ë°©í–¥ì˜ ìˆ«ì
-- ğŸ’¡ Vector3.new(0, 100, 0) = ìœ„ë¡œ 100
-- ========================================
local part = script.Parent
local jumpForce = 100  -- ì í”„ í˜
local canJump = true

local function onTouched(otherPart)
    local humanoid = otherPart.Parent:FindFirstChild("Humanoid")

    if humanoid and canJump then
        canJump = false

        -- ğŸ’¡ HumanoidRootPart = ìºë¦­í„°ì˜ ì¤‘ì‹¬
        local rootPart = otherPart.Parent:FindFirstChild("HumanoidRootPart")
        if rootPart then
            -- ğŸ’¡ ì†ë„ë¥¼ Y(ìœ„)ë°©í–¥ìœ¼ë¡œ ì„¤ì • = ìœ„ë¡œ ë°œì‚¬!
            rootPart.AssemblyLinearVelocity = Vector3.new(0, jumpForce, 0)
        end

        part.BrickColor = BrickColor.new("Really red")
        task.wait(0.5)
        part.BrickColor = BrickColor.new("Lime green")
        canJump = true
    end
end

part.Touched:Connect(onTouched)
                            </lua-code-block>
                        </div>

                        <div>
                            <div class="text-sm text-neon-gold font-bold mb-2">ğŸ‘» ì‚¬ë¼ì§€ëŠ” ë°œíŒ</div>
                            <lua-code-block title="FadingPlatform.lua">
-- ========================================
-- ğŸ‘» ì‚¬ë¼ì§€ëŠ” ë°œíŒ
-- ========================================
-- ğŸ“¦ Part (Anchored âœ“) + Script
-- ğŸ’¡ Transparency = íˆ¬ëª…ë„ (0~1)
--    0 = ì•ˆë³´ì„, 1 = ì™„ì „ íˆ¬ëª…
-- ğŸ’¡ CanCollide = ì¶©ëŒ ì—¬ë¶€
--    false = í†µê³¼ ê°€ëŠ¥
-- ========================================
local part = script.Parent
local fadeTime = 1      -- ì‚¬ë¼ì§€ëŠ” ì‹œê°„
local respawnTime = 3   -- ë‹¤ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ëŒ€ê¸°ì‹œê°„
local canFade = true

local function onTouched(otherPart)
    local humanoid = otherPart.Parent:FindFirstChild("Humanoid")

    if humanoid and canFade then
        canFade = false

        -- ğŸ’¡ for i = 1, 10 = 1ë¶€í„° 10ê¹Œì§€ ë°˜ë³µ
        -- ì ì  íˆ¬ëª…í•´ì§
        for i = 1, 10 do
            part.Transparency = i / 10  -- 0.1, 0.2, ... 1.0
            task.wait(fadeTime / 10)
        end
        part.CanCollide = false  -- í†µê³¼ ê°€ëŠ¥

        task.wait(respawnTime)   -- 3ì´ˆ ëŒ€ê¸°

        -- ë‹¤ì‹œ ë‚˜íƒ€ë‚¨
        part.CanCollide = true
        for i = 10, 1, -1 do     -- ê±°ê¾¸ë¡œ!
            part.Transparency = i / 10
            task.wait(fadeTime / 10)
        end
        part.Transparency = 0
        canFade = true
    end
end

part.Touched:Connect(onTouched)
                            </lua-code-block>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 9: í€´ì¦ˆ -->
    <section class="slide">
        <div class="max-w-3xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-quiz mb-4">í™•ì¸ í€´ì¦ˆ</span>
                <h2 class="title-section mb-8">ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì„ í™•ì¸í•´ë³¼ê¹Œìš”?</h2>
            </div>

            <div class="animate-in mb-6">
                <quiz-question
                    question="í”Œë ˆì´ì–´ë¥¼ ì¦‰ì‹œ ì‚¬ë§ì‹œí‚¤ëŠ” ì½”ë“œëŠ”?"
                    correct="A"
                    options={quiz1Options}
                    correct-explanation="ë§ì•„ìš”! humanoid.Health = 0 ìœ¼ë¡œ ì²´ë ¥ì„ 0ìœ¼ë¡œ ë§Œë“¤ë©´ ì‚¬ë§í•©ë‹ˆë‹¤."
                    wrong-explanation="humanoid.Health = 0ì´ ì •ë‹µì´ì—ìš”. Healthë¥¼ 0ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ìºë¦­í„°ê°€ ì‚¬ë§í•©ë‹ˆë‹¤."
                ></quiz-question>
            </div>

            <div class="animate-in mb-6">
                <quiz-question
                    question="ë‘ ì¡°ê±´ì´ 'ëª¨ë‘ ì°¸'ì¼ ë•Œë§Œ ì‹¤í–‰í•˜ë ¤ë©´ ì–´ë–¤ ì—°ì‚°ìë¥¼ ì‚¬ìš©í• ê¹Œìš”?"
                    correct="A"
                    options={quiz2Options}
                    correct-explanation="ì •ë‹µ! and ì—°ì‚°ìëŠ” ì–‘ìª½ ì¡°ê±´ì´ ëª¨ë‘ ì°¸ì¼ ë•Œ trueë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤."
                    wrong-explanation="andê°€ ì •ë‹µì´ì—ìš”. Luaì—ì„œëŠ” andë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. (&&ëŠ” JavaScript)"
                ></quiz-question>
            </div>

            <div class="animate-in">
                <quiz-question
                    question="í”Œë ˆì´ì–´ì˜ ì²´ë ¥ì„ ê´€ë¦¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ ì´ë¦„ì€?"
                    correct="A"
                    options={quiz3Options}
                    correct-explanation="ë§ì•„ìš”! Humanoid ì˜¤ë¸Œì íŠ¸ê°€ Health, WalkSpeed ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤."
                    wrong-explanation="Humanoidê°€ ì •ë‹µì´ì—ìš”. CharacterëŠ” ëª¨ë¸ ì „ì²´, PlayerëŠ” ê³„ì • ì •ë³´ì…ë‹ˆë‹¤."
                ></quiz-question>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 10: ë§ˆë¬´ë¦¬ -->
    <section class="slide">
        <div class="max-w-4xl mx-auto px-6 py-12 flex flex-col items-center justify-center min-h-[80vh]">
            <div class="text-center animate-in">
                <span class="text-6xl mb-6 block">âš”ï¸</span>
                <h2 class="title-display mb-4">4ì°¨ì‹œ ì™„ë£Œ!</h2>
                <p class="text-xl text-ink-light max-w-lg mx-auto mb-8">
                    ì¡°ê±´ë¬¸ìœ¼ë¡œ ê²Œì„ ë¡œì§ì„ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ì—ˆì–´ìš”!
                </p>

                <div class="lesson-card max-w-md mx-auto mb-8">
                    <h3 class="font-bold text-lg mb-3">ğŸ“ ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ</h3>
                    <ul class="text-left space-y-2 text-sm">
                        <li class="flex items-center gap-2">
                            <span class="text-neon-coral">ğŸ’€</span>
                            Kill Part - Health = 0
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="text-neon-gold">ğŸ’”</span>
                            ë°ë¯¸ì§€ íŒŒíŠ¸ - Health - damage
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="text-neon-mint">ğŸ’š</span>
                            íë§ íŒŒíŠ¸ - Health + healAmount
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="text-neon-sky">â±ï¸</span>
                            debounce - ì¿¨ë‹¤ìš´ íŒ¨í„´
                        </li>
                    </ul>
                </div>

                <div class="info-box max-w-md mx-auto">
                    <strong>ë‹¤ìŒ ì‹œê°„ ì˜ˆê³ </strong>
                    <p class="text-sm mt-1">5A: ë°˜ë³µë¬¸ (for) - for i = 1, 10 do</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Lit ì»´í¬ë„ŒíŠ¸ ë¡œë“œ -->
    <script>
        import('../../../components/lit/index').catch(console.error);
    </script>
</LessonLayout>
