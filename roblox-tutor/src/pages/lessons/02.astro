---
import LessonLayout from '../../layouts/LessonLayout.astro';
import HintBox from '../../components/astro/HintBox.astro';
import StepCard from '../../components/astro/StepCard.astro';

// í€´ì¦ˆ ì˜µì…˜
const quiz1Options = JSON.stringify(["local", "var", "let", "const"]);
const quiz2Options = JSON.stringify(["BrickColor", "Color", "Paint", "Texture"]);
const quiz3Options = JSON.stringify(["0", "0.5", "1", "100"]);

// ì—ë””í„° ì½”ë“œ
const editorCode1 = `-- ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”
local myName = "ì—¬ëŸ¬ë¶„ ì´ë¦„"
print(myName)`;

const editorCode2 = `-- íŒŒíŠ¸ ìƒ‰ìƒ ë°”ê¾¸ê¸°
local part = script.Parent
part.BrickColor = BrickColor.new("Bright red")
print("ìƒ‰ìƒì´ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤!")`;
---

<LessonLayout title="ë³€ìˆ˜ì™€ ì†ì„±" lessonNumber={2} totalSlides={6}>
    <!-- ìŠ¬ë¼ì´ë“œ 1: ì¸íŠ¸ë¡œ -->
    <section class="slide active">
        <div class="max-w-4xl mx-auto px-6 py-12 flex flex-col items-center justify-center min-h-[80vh]">
            <div class="text-center animate-in">
                <span class="badge badge-roblox mb-6">2ì°¨ì‹œ</span>
                <h1 class="title-display mb-4">
                    ë³€ìˆ˜ì™€ <span class="text-neon-mint">ì†ì„±</span>
                </h1>
                <p class="text-xl text-ink-light max-w-lg mx-auto mb-8">
                    Luaì˜ ë³€ìˆ˜ ê°œë…ê³¼<br>
                    íŒŒíŠ¸ì˜ ì†ì„±ì„ ì½”ë“œë¡œ ë°”ê¾¸ëŠ” ë²•ì„ ë°°ì›Œìš”
                </p>
                <div class="flex gap-4 justify-center flex-wrap">
                    <div class="px-4 py-2 bg-ink-pale rounded-full text-sm">
                        <span class="font-bold">ğŸ“¦ ë³€ìˆ˜ (local)</span>
                    </div>
                    <div class="px-4 py-2 bg-ink-pale rounded-full text-sm">
                        <span class="font-bold">ğŸ¨ BrickColor</span>
                    </div>
                    <div class="px-4 py-2 bg-ink-pale rounded-full text-sm">
                        <span class="font-bold">ğŸ‘» Transparency</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 2: ë³€ìˆ˜ë€? -->
    <section class="slide">
        <div class="max-w-4xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-lesson mb-4">ê°œë… í•™ìŠµ</span>
                <h2 class="title-section mb-6">ë³€ìˆ˜(Variable)ë€?</h2>
            </div>

            <div class="flex flex-col gap-8">
                <div class="animate-in">
                    <div class="lesson-card">
                        <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                            <span class="text-2xl">ğŸ“¦</span>
                            ì´ë¦„í‘œê°€ ë¶™ì€ ìƒì
                        </h3>
                        <p class="text-ink-light mb-4">
                            ë³€ìˆ˜ëŠ” <strong>ë°ì´í„°ë¥¼ ë‹´ëŠ” ìƒì</strong>ì˜ˆìš”.
                            ìƒìì— ì´ë¦„í‘œë¥¼ ë¶™ì—¬ì„œ ë‚˜ì¤‘ì— ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆì£ .
                        </p>
                        <div class="bg-ink-pale rounded-xl p-4 text-center">
                            <div class="text-4xl mb-2">ğŸ“¦</div>
                            <div class="text-sm text-ink-light">ì´ë¦„: <strong>myScore</strong></div>
                            <div class="text-2xl font-bold text-neon-mint">100</div>
                        </div>
                    </div>
                </div>

                <div class="animate-in">
                    <div class="lesson-card">
                        <h3 class="font-bold text-lg mb-4">Luaì—ì„œ ë³€ìˆ˜ ë§Œë“¤ê¸°</h3>
                        <lua-code-block title="ë³€ìˆ˜ ì„ ì–¸" show-line-numbers>
-- local í‚¤ì›Œë“œë¡œ ë³€ìˆ˜ ìƒì„±
local playerName = "Steve"
local score = 100
local isAlive = true

-- ë³€ìˆ˜ ì‚¬ìš©
print(playerName)  -- Steve
print(score)       -- 100
                        </lua-code-block>
                    </div>
                </div>
            </div>

            <HintBox type="info" title="localì´ ë­ì˜ˆìš”?">
                <code>local</code>ì€ "ì´ ë³€ìˆ˜ëŠ” ì—¬ê¸°ì„œë§Œ ì“¸ ê±°ì•¼"ë¼ê³  ì„ ì–¸í•˜ëŠ” í‚¤ì›Œë“œì˜ˆìš”.
                í•­ìƒ ë³€ìˆ˜ ì•ì— <code>local</code>ì„ ë¶™ì´ëŠ” ìŠµê´€ì„ ë“¤ì´ì„¸ìš”!
            </HintBox>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 3: ë³€ìˆ˜ ì‹¤ìŠµ (ì „ì²´í™”ë©´) -->
    <section class="slide slide-fullscreen">
        <lua-editor
            mission="myName ë³€ìˆ˜ì— ìì‹ ì˜ ì´ë¦„ì„ ë„£ê³  ì¶œë ¥í•˜ì„¸ìš”"
            initial-code={editorCode1}
            hints='["ë”°ì˜´í‘œ ì•ˆì˜ í…ìŠ¤íŠ¸ë¥¼ ë°”ê¿”ë³´ì„¸ìš”", "print()ë¡œ ë³€ìˆ˜ ë‚´ìš©ì„ ì¶œë ¥í•´ìš”"]'
        ></lua-editor>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 4: íŒŒíŠ¸ ì†ì„± -->
    <section class="slide">
        <div class="max-w-4xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-lua mb-4">ì†ì„± ë³€ê²½</span>
                <h2 class="title-section mb-6">íŒŒíŠ¸ì˜ ì†ì„± ë°”ê¾¸ê¸°</h2>
            </div>

            <div class="animate-in mb-6">
                <p class="text-lg text-ink-light mb-6">
                    ë¡œë¸”ë¡ìŠ¤ì˜ ëª¨ë“  ì˜¤ë¸Œì íŠ¸ëŠ” <strong>ì†ì„±(Property)</strong>ì„ ê°€ì§€ê³  ìˆì–´ìš”.
                    ì½”ë“œë¡œ ì´ ì†ì„±ë“¤ì„ ë°”ê¿€ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-4 animate-in mb-8">
                <div class="lesson-card text-center">
                    <div class="text-3xl mb-2">ğŸ¨</div>
                    <h4 class="font-bold mb-1">BrickColor</h4>
                    <p class="text-sm text-ink-light">íŒŒíŠ¸ì˜ ìƒ‰ìƒ</p>
                    <code class="text-xs mt-2 block">BrickColor.new("Red")</code>
                </div>
                <div class="lesson-card text-center">
                    <div class="text-3xl mb-2">ğŸ‘»</div>
                    <h4 class="font-bold mb-1">Transparency</h4>
                    <p class="text-sm text-ink-light">íˆ¬ëª…ë„ (0~1)</p>
                    <code class="text-xs mt-2 block">part.Transparency = 0.5</code>
                </div>
                <div class="lesson-card text-center">
                    <div class="text-3xl mb-2">ğŸ“</div>
                    <h4 class="font-bold mb-1">Size</h4>
                    <p class="text-sm text-ink-light">í¬ê¸° (X, Y, Z)</p>
                    <code class="text-xs mt-2 block">Vector3.new(4, 1, 2)</code>
                </div>
            </div>

            <div class="animate-in">
                <lua-code-block title="ì†ì„± ë³€ê²½ ì˜ˆì‹œ" show-line-numbers>
local part = script.Parent

-- ìƒ‰ìƒ ë°”ê¾¸ê¸°
part.BrickColor = BrickColor.new("Bright red")

-- ë°˜íˆ¬ëª…í•˜ê²Œ ë§Œë“¤ê¸°
part.Transparency = 0.5

-- ì´ë¦„ ë°”ê¾¸ê¸°
part.Name = "MyPart"
                </lua-code-block>
            </div>
        </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 5: ìƒ‰ìƒ ì‹¤ìŠµ (ì „ì²´í™”ë©´) -->
    <section class="slide slide-fullscreen">
        <lua-editor
            mission="íŒŒíŠ¸ ìƒ‰ìƒì„ ì¢‹ì•„í•˜ëŠ” ìƒ‰ìœ¼ë¡œ ë°”ê¿”ë³´ì„¸ìš” (Bright red, Bright blue, Bright green, Bright yellow, Bright violet, Bright orange)"
            initial-code={editorCode2}
            hints='["BrickColor.new() ì•ˆì˜ ìƒ‰ìƒ ì´ë¦„ì„ ë°”ê¿”ë³´ì„¸ìš”", "ìƒ‰ìƒ ì´ë¦„ì€ ë”°ì˜´í‘œë¡œ ê°ì‹¸ì•¼ í•´ìš”"]'
        ></lua-editor>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ 6: í€´ì¦ˆ -->
    <section class="slide">
        <div class="max-w-3xl mx-auto px-6 py-12">
            <div class="animate-in">
                <span class="badge badge-quiz mb-4">í™•ì¸ í€´ì¦ˆ</span>
                <h2 class="title-section mb-8">ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš© í™•ì¸!</h2>
            </div>

            <div class="space-y-6">
                <div class="animate-in">
                    <quiz-question
                        question="Luaì—ì„œ ë³€ìˆ˜ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” í‚¤ì›Œë“œëŠ”?"
                        correct="A"
                        options={quiz1Options}
                        correct-explanation="ì •ë‹µ! Luaì—ì„œëŠ” local í‚¤ì›Œë“œë¡œ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤."
                        wrong-explanation="Luaì—ì„œëŠ” local í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ìš”. var, let, constëŠ” ë‹¤ë¥¸ ì–¸ì–´ì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤."
                    ></quiz-question>
                </div>

                <div class="animate-in">
                    <quiz-question
                        question="íŒŒíŠ¸ì˜ ìƒ‰ìƒì„ ë°”ê¾¸ëŠ” ì†ì„±ì€?"
                        correct="A"
                        options={quiz2Options}
                        correct-explanation="ë§ì•„ìš”! BrickColor ì†ì„±ìœ¼ë¡œ íŒŒíŠ¸ì˜ ìƒ‰ìƒì„ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”."
                        wrong-explanation="BrickColorê°€ ì •ë‹µì´ì—ìš”. BrickColor.new('ìƒ‰ìƒì´ë¦„')ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤."
                    ></quiz-question>
                </div>

                <div class="animate-in">
                    <quiz-question
                        question="Transparencyê°€ 1ì´ë©´ íŒŒíŠ¸ëŠ” ì–´ë–»ê²Œ ë˜ë‚˜ìš”?"
                        correct="C"
                        options='["ì™„ì „ ë¶ˆíˆ¬ëª…", "ë°˜íˆ¬ëª…", "ì™„ì „ íˆ¬ëª… (ì•ˆ ë³´ì„)", "ë¹¨ê°„ìƒ‰"]'
                        correct-explanation="ì •ë‹µ! Transparencyê°€ 1ì´ë©´ ì™„ì „íˆ íˆ¬ëª…í•´ì„œ ë³´ì´ì§€ ì•Šì•„ìš”."
                        wrong-explanation="TransparencyëŠ” 0(ë¶ˆíˆ¬ëª…)~1(ì™„ì „íˆ¬ëª…) ì‚¬ì´ì˜ ê°’ì´ì—ìš”. 1ì´ë©´ ì•ˆ ë³´ì—¬ìš”!"
                    ></quiz-question>
                </div>
            </div>
        </div>
    </section>

    <!-- Lit ì»´í¬ë„ŒíŠ¸ ë¡œë“œ -->
    <script>
        import('../../components/lit/index').catch(console.error);
    </script>
</LessonLayout>
